<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>Hello Earth! code sample</title>
<link rel="stylesheet" href="../css/styles.css" type="text/css" media="all" />
<link rel="stylesheet" href="../css/containers.css" type="text/css" media="all" />
</head>
<body>
<!-- 3253752.html -->
<div class="container">
  <div class="sidebar1">
<p class="sidebar-toc"><a href="../answer/3230746.html">Portable User Guide</a></p>
<p class="sidebar-toc"><a href="../answer/3230807.html">Portable Developer Guide</a></p>
<p class="sidebar-toc"><a href="../answer/3253752.html" class="current-file">Hello Earth! code sample</a></p>
<p class="sidebar-toc"><a href="../answer/3253275.html">Hello Maps! code sample</a></p>
<p class="sidebar-toc"><a href="../answer/4590263.html">Inspecting portable files</a></p>
  </div>
  <div class="content">
<a name="top_of_file"></a>
<p><img src="../art/common/logo_col_126x48.png" width="126" height="48" alt="Google logo" /></p>
<h1><a href="../answer/index.html">Google Earth Enterprise Documentation Home</a> | GEE Portable</h1>

<h2>Hello Earth! code sample</h2><p><code>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;<br />
  <br />
  &lt;html&gt;<br />
  <br />
  &nbsp;&lt;head&gt;<br />
  <br />
  &nbsp; &lt;meta http-equiv="content-type" content="text/html; charset=utf-8" /&gt;<br />
  &nbsp; &lt;meta http-equiv="cache-control" content="max-age=0" /&gt;<br />
  &nbsp; &lt;meta http-equiv="cache-control" content="no-cache" /&gt;<br />
  &nbsp; &lt;meta http-equiv="expires" content="0" /&gt;<br />
  &nbsp; &lt;meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" /&gt;<br />
  &nbsp; &lt;meta http-equiv="pragma" content="no-cache" /&gt;<br />
  &nbsp; &lt;META HTTP-EQUIV="Pragma" CONTENT="no-cache"&gt;<br />
  <br />
  &nbsp; &nbsp;&lt;!--This sample loads the necessary scripts for jQuery, Google Earth Plug-in, geeServerDefs, and the Maps API Fusion extension--&gt;<br />
  &nbsp; &nbsp;&lt;title&gt;Google Maps Engine Portable - Hello Earth Example&lt;/title&gt;<br />
  <br />
  &nbsp; &nbsp; &lt;!--Loads jQuery from the local source.--&gt;<br />
  &nbsp; &nbsp; &lt;script src="/local/js/jquery-1.8.3.js"&gt;&lt;/script&gt;<br />
  <br />
  &nbsp; &nbsp; &lt;!--Loads the Google Earth Plug-in from the local source.--&gt;<br />
  &nbsp; &nbsp; &lt;script src="/local/maps/api/earth_plugin_loader.js"&gt;&lt;/script&gt;<br />
  <br />
  &nbsp; &nbsp; &lt;!--Loads the server database definitions (geeServerDefs) from the local source. To view your server database definitions, navigate to http://localhost:9335/query?request=Json--&gt;<br />
  &nbsp; &nbsp; &lt;script type="text/javascript"&gt;<br />
  <br />
  &nbsp; &nbsp; &nbsp;$.ajax({<br />
  &nbsp; &nbsp; &nbsp; url: "http://localhost:9335/query?request=Json&amp;var=geeServerDefs",<br />
  &nbsp; &nbsp; &nbsp; statusCode: {<br />
  &nbsp; &nbsp; &nbsp; &nbsp;500: function() {<br />
  &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('not_serving').style.display = 'block';<br />
  &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('earth').style.display = 'none';<br />
  &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('not_serving').innerHTML =<br />
  &nbsp; &nbsp; &nbsp; &nbsp; 'Error: To view this example, you need to run Google Maps Engine Portable\<br />
  &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;and serve a 3D globe on http://localhost:9335.'<br />
  &nbsp; &nbsp; &nbsp; &nbsp;}<br />
  &nbsp; &nbsp; &nbsp; }<br />
  &nbsp; &nbsp; &nbsp;});<br />
  <br />
  &nbsp; &nbsp; &nbsp;function initEarth() {<br />
  &nbsp; &nbsp; &nbsp; &nbsp;google.earth.createInstance(<br />
  &nbsp; &nbsp; &nbsp; &nbsp; 'earth', initCB, failureCB, {database: 'http://localhost:9335'});<br />
  &nbsp; &nbsp; &nbsp;}<br />
  <br />
  &nbsp; &nbsp; &nbsp;// The Earth callback function sets the navigation controls for your 3D maps.<br />
  &nbsp; &nbsp; &nbsp;// Unlike the Hello Maps code, Hello Earth requires the three functions below for initialization.<br />
  &nbsp; &nbsp; &nbsp;// Some additional control options are listed in the comments below.<br />
  &nbsp; &nbsp; &nbsp;// For even more options, see the Google Earth API Reference at: https://developers.google.com/earth/documentation/reference/.<br />
  <br />
  &nbsp; &nbsp; &nbsp;function initCB(earth) {<br />
  &nbsp; &nbsp; &nbsp; ge = earth;<br />
  &nbsp; &nbsp; &nbsp; ge.getWindow().setVisibility(true);<br />
  &nbsp; &nbsp; &nbsp; ge.getNavigationControl().setVisibility(ge.VISIBILITY_AUTO);<br />
  &nbsp;<br />
  &nbsp; &nbsp; &nbsp; //Other visibility options for Controls<br />
  &nbsp; &nbsp; &nbsp; //ge.getNavigationControl().setVisibility(ge.VISIBILITY_HIDE);<br />
  &nbsp; &nbsp; &nbsp; //ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);<br />
  <br />
  &nbsp; &nbsp; &nbsp; //Set Controls in Bottom Right<br />
  &nbsp; &nbsp; &nbsp; //ge.getNavigationControl().getScreenXY().setXUnits(ge.UNITS_INSET_PIXELS);<br />
  &nbsp; &nbsp; &nbsp; //ge.getNavigationControl().getScreenXY().setYUnits(ge.UNITS_PIXELS);<br />
  <br />
  &nbsp; &nbsp; &nbsp; //Set Controls in Top Left<br />
  &nbsp; &nbsp; &nbsp; //ge.getNavigationControl().getScreenXY().setXUnits(ge.UNITS_PIXELS);<br />
  &nbsp; &nbsp; &nbsp; //ge.getNavigationControl().getScreenXY().setYUnits(ge.UNITS_INSET_PIXELS);<br />
  <br />
  &nbsp; &nbsp; &nbsp;}<br />
  <br />
  &nbsp; &nbsp; &nbsp;// Error handling in case the map doesn't load.<br />
  &nbsp; &nbsp; &nbsp;function failureCB(earth) {<br />
  &nbsp; &nbsp; &nbsp; &nbsp;alert('ALERT! The Google Earth Plug-in failed to load!');<br />
  <br />
  &nbsp; &nbsp; &nbsp;}<br />
  <br />
  &nbsp; &nbsp; &lt;/script&gt;<br />
  <br />
  &nbsp;&nbsp; &lt;style type="text/css"&gt;<br />
  &nbsp;&nbsp; #head {<br />
  &nbsp;&nbsp; &nbsp;margin: 0 auto;<br />
  &nbsp;&nbsp; &nbsp;margin-top: 16px;<br />
  &nbsp;&nbsp; &nbsp;height: 20px;<br />
  &nbsp;&nbsp; &nbsp;width: 600px;<br />
  &nbsp;&nbsp; &nbsp;font-family: "Arial", sans-serif;<br />
  &nbsp;&nbsp; &nbsp;font-size: 16px;<br />
  &nbsp;&nbsp; &nbsp;font-weight: normal;<br />
  &nbsp;&nbsp; }<br />
  &nbsp;&nbsp; #head span {<br />
  &nbsp;&nbsp; &nbsp;background-color: #F1F1F1;<br />
  &nbsp;&nbsp; &nbsp;color: #333;<br />
  &nbsp;&nbsp; }<br />
  &nbsp;&nbsp; #not_serving {<br />
  &nbsp;&nbsp; &nbsp;background-color: #CB392A;<br />
  &nbsp;&nbsp; &nbsp;color: #FFF;<br />
  &nbsp;&nbsp; &nbsp;font-weight: bold;<br />
  &nbsp;&nbsp; }<br />
  &nbsp;&nbsp; #head span,<br />
  &nbsp;&nbsp; #not_serving {<br />
  &nbsp;&nbsp; &nbsp;display: block;<br />
  &nbsp;&nbsp; &nbsp;padding: 16px;<br />
  &nbsp;&nbsp; &nbsp;border: 1px solid #DCDCDC;<br />
  &nbsp;&nbsp; &nbsp;font-size: 13px;<br />
  &nbsp;&nbsp; &nbsp;margin: 8px 0 8px 0;<br />
  &nbsp;&nbsp; &nbsp;box-shadow: 1px 1px 3px #F1F1F1;<br />
  &nbsp;&nbsp; }<br />
  &nbsp;&nbsp; #earth {<br />
  &nbsp;&nbsp; &nbsp;margin: 0 auto;<br />
  &nbsp;&nbsp; &nbsp;margin-top: 120px;<br />
  &nbsp;&nbsp; &nbsp;width: 600px;<br />
  &nbsp;&nbsp; &nbsp;height: 600px;<br />
  &nbsp;&nbsp; }<br />
  <br />
  &nbsp;&nbsp; &lt;/style&gt;<br />
  <br />
  &nbsp;&lt;/head&gt;<br />
  <br />
  &nbsp;&lt;body onload='initEarth()' id='body'&gt;<br />
  <br />
  &nbsp;&nbsp; &lt;div id="head"&gt;Hello Earth! &amp;#8212; Google Earth Plug-in &amp;amp; Portable<br />
  <br />
  &nbsp;&nbsp; &nbsp;&lt;span&gt;<br />
  &nbsp;&nbsp; &nbsp;To see how to initialize the Google Earth Plug-in and make a call to Portable, view the source for this page. To view this example, you need to run Google Maps Engine Portable and serve a 3D globe on http://localhost:9335.<br />
  &nbsp;&nbsp; &nbsp;&lt;/span&gt;<br />
  <br />
  &nbsp;&nbsp; &nbsp;&lt;div id="not_serving" style="display:none;"&gt;&lt;/div&gt;<br />
  <br />
  &nbsp;&nbsp; &lt;/div&gt;<br />
  <br />
  &nbsp;&nbsp;&lt;div id="earth"&gt;&lt;/div&gt;<br />
  <br />
  &nbsp;&lt;/body&gt;<br />
  <br />
  &lt;/html&gt; </code></p>
  </div>
  <div class="footer">
  <p class="BackToTop"><a href="#top_of_file">Back to top</a>
  <hr />
  <p class="copyright">For the latest version of this documentation, go to the <a href="http://support.google.com/earthenterprise" target="_blank">Google Earth Enterprise help center</a>.<br />&copy;2014 Google</p>
  </div>
</div>
</body>
</html>
