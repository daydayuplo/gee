<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">








 
 



  

  


<html>
  <head>
    <script type="text/javascript" language="JavaScript">
    ORIGINAL_PAGE_PATH = "/apis/maps/documentation/javascript/basics.html";
    </script>
    
    
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>The Google Maps Javascript API V3 - Basics - Google Maps JavaScript API V3 - Google Code</title>
<script type="text/javascript"><!--
(function(){function a(){this.t={};this.tick=function(c){this.t[c]=(new Date).getTime()};this.tick("start")}var b=new a;window.jstiming={Timer:a,load:b};if(window.external&&window.external.pageT)window.jstiming.pt=window.external.pageT;})();

var _tocPath_ = '/html/apis/maps/documentation/javascript/_toc.ezt';
var codesite_token = null;
var logged_in_user_email = null;
//--></script>
<link href="../../../../css/codesite.pack.04102009.css" type="text/css" rel="stylesheet">
<script src="../../../../js/codesite_head.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript">CODESITE_CSITimer['load'].tick('bhs');</script>
<link rel="search" type="application/opensearchdescription+xml" title="Google Code" href="http://code.google.com/osd.xml">

<!--[if IE]><link rel="stylesheet" type="text/css" href="../../../../css/iehacks.css"><![endif]-->

<link href="../local_extensions.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="gc-documentation">

    <div id="gb">
 <span>
  
    <a id="lang-dropdown" href="http://code.google.com" onclick="return false;"><span style="text-decoration:underline">English</span> <span style="font-size:.75em;">&#9660;</span></a>
  
 </span>
</div>

<div class="gbh" style="left:0px;"></div>
<div class="gbh" style="right:0px;"></div>

<div id="gc-container">
<a id="top"></a>
<div id="skipto">
  
  
</div>

<div id="gc-header">
  <div id="logo"><a href="http://code.google.com">
  
  
     <img src="../images/code_logo.gif" height="40" width="167" alt="Google Code" style="border:0;margin:3px 0 0 0;">
  
  
  </a></div>
  <div id="search">
    <div id="searchForm" class="searchForm">
      <form id="cse" action="http://www.google.com/cse" accept-charset="utf-8" class="gsc-search-box" onsubmit="executeGSearch(document.getElementById('gsearchInput').value); return false;">
      <noscript>
      <input type="hidden" name="cref" value="http://code.google.com/cse/googlecode-context.xml">
      </noscript>
      <div id="gsc-search-box">
        <input id="gsearchInput" type="text" name="q" maxlength="2048" class="gsc-input" autocomplete="off" title="Google Code Search" style="width:345px">
        <div id="cs-searchresults" onclick="event.cancelBubble = true;"></div>
        <input title="Search" id="gsearchButton" class="gsc-search-button" name="sa" value="Search" type="submit">
        <div class="greytext">e.g. "adwords" or "open source"</div>
      </div>
      </form>
    </div> <!-- end searchForm -->
  </div> <!-- end search -->




</div> <!-- end gc-header -->


<div id="codesiteContent">

<a id="gc-topnav-anchor"></a>
<div id="gc-topnav">
  <h1 style="padding:0 0 0 6px;">Google Maps JavaScript API V3</h1>
  <ul id="docs" class="gc-topnav-tabs">

    <li id="home_link">
      <a href="index.html" title="Google Maps JavaScript API V3 home page">Home</a>
    </li>
  
    <li id="docs_link">
      <a href="basics.html" class="selected" title="Official Google Maps JavaScript API V3 documentation">Docs</a>
    </li>
  
    <li id="faq_link">
      <a href="../../faq.html" title="Answers to frequently asked questions about Google Maps JavaScript API V3">FAQ</a>
    </li>
  
    <li id="articles_link">
      <a href="articles.html" title="Focused articles and tutorials for Google Maps JavaScript API V3 developers">Articles</a>
    </li>
  
    <li>
      <a href="http://googlegeodevelopers.blogspot.com/" title="Official Google Maps JavaScript API V3 blog">Blog</a>
    </li>
  
    <li>
      <a href="forum.html" title="Google Maps JavaScript API V3 developer forum">Forum</a>
    </li>
  
    <li>
      <a href="../../terms.html" title="Google Maps JavaScript API V3 terms of service">Terms</a>
    </li>
  

  </ul>
</div> <!-- end gc-topnav -->

    <div class="g-section g-tpl-170">

      <a name="gc-toc-anchor"></a>  
      <div class="g-unit g-first" id="gc-toc">
        <ul>
  <li><a href="../../index.html">Maps API Family</a></li>
  <li><a href="http://code.google.com/apis/kml/documentation/kmlSearch.html">Index Your Maps Content</a></li>
</ul>
 <div class="line"></div>
    <ul>
      <li><h2>Maps Javascript API V3</h2>
        <ul>
          <li><a class="tlw-expanded" href="index.html">Home Page</a>
            <ul>
              <li><a href="basics.html">Basics</a></li>
              <li><a href="tutorial.html">Tutorial</a></li>
              <li><a href="events.html">Events</a></li>
              <li><a href="controls.html">Controls</a></li>
              <li><a href="overlays.html">Overlays</a></li>
              <li><a href="services.html">Services</a></li>
              <li><a href="maptypes.html">Map Types</a></li>
            </ul>
          </li>
          <li><a class="tlw-collapsed" href="reference.html">API Reference</a>
            <ul>
              <li><a href="reference.html">3.3</a></li>
              <li><a href="3.2/reference.html">3.2</a></li>
              <li><a href="3.1/reference.html">3.1</a></li>
            </ul>
          </li>
          <li><h2 class="tlw-expanded">Code Samples:</h2>
            <ul>
              <li><a href="examples/index.html">Samples</a></li>
              <li><a href="demogallery.html">Demo Gallery</a></li>
            </ul>
          </li>
          <li><h2 class="tlw-expanded">More Resources:</h2>
            <ul>
               <li><a href="articles.html">Articles</a><sup class="new">New!</sup></li>
               <li><a href="http://code.google.com/p/gmaps-api-issues/issues/list?can=2&q=apitype:Javascript3&colspec=ID+Type+Status+Introduced+Fixed+Summary+Internal+Stars&cells=tiles">Known Issues</a></li>
               <li><a href="http://code.google.com/p/gmaps-api-issues/wiki/JavascriptMapsAPIv3Changelog">Changelog</a></li>
               <li><a href="http://code.google.com/p/google-maps-utility-library-v3/">Utility Library</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
       <div class="line"></div>
       <ul>
        <li><h2>Maps Javascript API V2</h2>
         <p><span style="color:grey">(Deprecated API)</span></p>
         <ul>
           <li><a href="v2/index.html">Home Page</a></li>
           <li><a href="v2/basics.html">Documentation</a></li>
         </ul>
       </li>
      </ul>
   <div class="line"></div>
    <ul>
      <li><h2>Maps API for Flash</h2>
        <ul>
          <li><a href="../flash/index.html">Home Page</a></li>
          <li><a href="../flash/intro.html">Documentation</a></li>
        </ul>
      </li>
    </ul>
    <div class="line"></div>
    <ul>
      <li><h2>Maps Data API</h2>
        <p><span style="color:grey">(Deprecated API)</span></p>
        <ul>
          <li><a href="../mapsdata/index.html">Home Page</a></li>
          <li><a href="../mapsdata/developers_guide_protocol.html">Documentation</a></li>
        </ul>
      </li>
    </ul>
    <div class="line"></div>
    <ul>
        <li><h2><a href="../webservices/index.html">Maps API Web Services</a></h2>
        <ul>
          <li><a href="../geocoding/index.html">Geocoding API</a></li>
          <li><a href="../directions/index.html">Directions API</a></li>
          <li><a href="../elevation/index.html">Elevation API</a></li>
          <li><a href="../places/index.html">Places APl</a></li>
        </ul>
      </li>
    </ul>
       <div class="line"></div>
        <ul>
          <li><h2>Static Maps API</h2>
            <ul>
              <li><a href="../staticmaps/index.html">Developer Guide</a></li>
            </ul>
          </li>
        </ul>
    <div class="line"></div>
        <ul>
          <li><h2>Earth API</h2>
            <ul>
              <li><a href="http://code.google.com/apis/earth">Home Page</a></li>
              <li><a href="http://code.google.com/apis/earth/documentation">Documentation</a></li>
            </ul>
          </li>
        </ul>
      <div class="line"></div>
        <ul>
          <li><h2>Local Search API</h2>
            <p><span style="color:grey">(Deprecated API)</span></p>
            <ul>
              <li>
                <a href="../localsearch/index.html">Home Page</a>
              </li>
              <li>
                <a href="../localsearch/start.html">Documentation</a>
              </li>
            </ul>
          </li>
        </ul>
    <div class="line"></div>
    <div class="promo"><p><a href="../premier/index.html">Google Maps API Premier</a></p>
    <p>Same great maps plus a SLA, support, and control over ads</p>
    </div>

      </div>
      
      <a name="gc-pagecontent-anchor"></a>   
      <div class="g-unit" id="gc-pagecontent">
        <h1 class="page_title">The Google Maps Javascript API V3 - Basics</h1>


<p class="note">Note: The Google Maps Javascript API Version 3 documented within
these pages is now the official Javascript API. Version 2 of this API has been
officially deprecated as per our deprecation policy. We encourage you to migrate
your code to this newly updated and enhanced version!</p>

<p>Welcome to the newly updated and official Google Maps Javascript API V3! This
JavaScript API now officially replaces version 2 of the Google Maps Javascript
API. The versions look similar, though much has changed under 
the hood: Version 3 (called V3 within this document) has been designed to load
fast, especially on mobile browsers such as Android-based devices and the
iPhone&trade;.</p>

<p>We welcome your feedback and comments on this version of the Google Maps API
within the <a href="http://groups.google.com/group/google-maps-js-api-v3">
Google Maps API V3 discussion group.</a></p>

<div class="toc">
  <ol>
  <li><a href="#Welcome">Welcome to Version 3</a></li>
  <li><a href="#Audience">Audience</a></li>
  <li><a href="#Geolocation">Geolocation</a>
    <ol class="toc">
      <li><a href="#DetectingUserLocation">Detecting the User's Location</a></li>
      <li><a href="#SpecifyingSensor">Specifying the Sensor Parameter</a></li>
    </ol>
  </li>
  <li><a href="#Mobile">Developing for Mobile Devices (iPhone and Android device)</a></li>
  <li><a href="#Localization">Localization in the V3 Maps API</a></li>
  <li><a href="#Async">Loading the API Asynchronously</a></li>
  <li><a href="#Versioning">Versioning</a>
    <ol class="toc">
      <li><a href="#VersionTypes">Types of Versions</a></li>
      <li><a href="#VersionDocs">Documentation of Versions</a></li>
    </ol> 
  </li>
  <li><a href="#Troubleshooting">Troubleshooting</a></li>
  </ol>
</div>

<h1 id="Welcome">Welcome to Version 3</h1>

<p>Welcome to the release of version 3 of the Google Maps API. This JavaScript API will 
look similar to the existing version 2 of the Google Maps API. However, much has changed under 
the hood: Version 3 (called V3 within this document) has been designed to load fast, especially 
on mobile browsers such as Android-based devices and the iPhone&trade;. The initial launch has 
a smaller feature set than that available in the V2 API. We will migrate 
additional features from V2 while working to keep the size of the JavaScript code small and 
maintain our optimized loading speeds. We welcome your feedback and comments on this version
of the Google Maps API within the <a href="http://groups.google.com/group/google-maps-js-api-v3">
Google Maps API V3 discussion group.</a></p>

<p>We've implemented this latest version of the Google Maps API using a 
<a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">modified MVC 
framework</a>. Any state changes of an MVC object (such as a map) for example, are handled
through <i>setters</i> and <i>getters</i> of a particular format. As well, all state of 
the MVC objects are stored as properties of that object, and all observation of
state changes through event handlers is of a particular format as well.</p>

<p>Special emphasis on enabling reliable and fast maps on mobile browsers has been 
integrated into this API. We encourage you to test out this API on mobile devices and 
post issues with specific devices to the group noted above.</p>

<p class="note"><span style="color:red">Note: </span>This version of the Google Maps 
JavaScript API no longer needs API keys!</p>

<h1 id="Audience">Audience</h1>

<p>This documentation is designed for people familiar with 
<a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">JavaScript</a> 
programming and object-oriented programming concepts. You should also be familiar with 
<a href="http://maps.google.com/">Google Maps</a> from a user's point of view. There are 
many <a href="http://www.google.com/search?q=javascript+tutorials">JavaScript tutorials</a> 
available on the Web.</p>

<p>This conceptual documentation is designed to let you quickly start exploring and developing 
cool applications with the Google Maps API. We also publish the <a href="reference.html">
Google Maps API Reference</a>.</p>

<p>The conceptual documentation is divided up into the following areas:</p>
<ul>
<li><a href="introduction.html">Basic Map Objects</a></li>
<li><a href="events.html">Map Events</a></li>
<li><a href="controls.html">Map Controls</a></li>
<li><a href="overlays.html">Map Overlays</a></li>
<li><a href="services.html">Map Services</a></li>
</ul>

<p>Feedback on this version of the API and its documentation is welcome. Make sure to post
feedback to the <a href="http://groups.google.com/group/google-maps-js-api-v3">Google Maps
JavaScript API V3 group</a>.</p>

<h1 id="Geolocation">Geolocation</h1>

<p>Geolocation refers to the identification of the geographic location
of a user or computing device via a variety of data collecton mechanisms.
Typically, most geolocation services use network routing addresses or
internal GPS devices to determine this location. Note that geolocation is a
device-specific API; some browser/devices support it, while others do not
(or cannot), so you cannot assume that geolocation is always possible
for a web application.</p>

<h2 id="DetectingUserLocation">Detecting the User's Location</h2>

<p>Currently, several ways exist to detect the user's location within a browser.
None of these methods are part of the Google Maps API; instead, they are common
industry standards.</p>

<ul>
  <li>Newer browsers are starting to support the
  <a href="http://dev.w3.org/geo/api/spec-source.html">W3C Geolocation standard</a>.
  This standard is part of HTML5 and will likely become the de-facto standard going
  forward. All applications that wish to perform geolocation should support this
  standard.</li>
  <li>Some browsers with Google Gears can use
  <a href="http://code.google.com/apis/gears/api_geolocation.html">Google Gears
  Geolocation API</a>. Since widespread support for the W3C standard is still
  forthcoming, checking for Gears is a good fallback mechanism.</li>
  <li>Some browsers use IP addresses to detect a user's location, though this
  provides only a very rough estimate.</li>
</ul>

<p>As a user's IP address can only provide a rough estimate of a user's location,
we don't recommend using this approach for geolocation. The W3C approach is the easiest
and most fully-supported so it should be prioritized over other methods. If you
do decide to use Google Gears, you should first check for whether the browser
supports the W3C standard. (Note that using Google Gears will require you
to load the <a href="http://code.google.com/apis/gears/gears_init.js">
Gears initialization Javascript</a>).</p>

<p>The following example attempts to determine the user's location through
the W3C <code>navigator.geolocation</code> property first, attempts a Google
Gears approach second, and bails out if neither approach works.</p>

<pre class="prettyprint lang-javascript">
// Note that using Google Gears requires loading the Javascript
// at http://code.google.com/apis/gears/gears_init.js

var initialLocation;
var siberia = new google.maps.LatLng(60, 105);
var newyork = new google.maps.LatLng(40.69847032728747, -73.9514422416687);
var browserSupportFlag =  new Boolean();

function initialize() {
  var myOptions = {
    zoom: 6,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  
  // Try W3C Geolocation (Preferred)
  if(navigator.geolocation) {
    browserSupportFlag = true;
    navigator.geolocation.getCurrentPosition(function(position) {
      initialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
      map.setCenter(initialLocation);
    }, function() {
      handleNoGeolocation(browserSupportFlag);
    });
  // Try Google Gears Geolocation
  } else if (google.gears) {
    browserSupportFlag = true;
    var geo = google.gears.factory.create('beta.geolocation');
    geo.getCurrentPosition(function(position) {
      initialLocation = new google.maps.LatLng(position.latitude,position.longitude);
      map.setCenter(initialLocation);
    }, function() {
      handleNoGeoLocation(browserSupportFlag);
    });
  // Browser doesn't support Geolocation
  } else {
    browserSupportFlag = false;
    handleNoGeolocation(browserSupportFlag);
  }
  
  function handleNoGeolocation(errorFlag) {
    if (errorFlag == true) {
      alert("Geolocation service failed.");
      initialLocation = newyork;
    } else {
      alert("Your browser doesn't support geolocation. We've placed you in Siberia.");
      initialLocation = siberia;
    }
    map.setCenter(initialLocation);
  }
}
</pre>

<p><a href="examples/map-geolocation.html">View example (map-geolocation.html)</a></p>

<h2 id="SpecifyingSensor">Specifying the Sensor Parameter</h2>

<p>Use of the Google Maps API requires that you indicate whether your application is using a 
sensor (such as a GPS locator) to determine the user's location. This is especially important for 
mobile devices. Applications must pass a required <code>sensor</code> parameter to the 
<code>&lt;script&gt;</code> tag when including the Maps API javascript code, indicating whether or not
your application is using a sensor device.</p>

<p>Applications that determine the user's location via a sensor must pass <code>sensor=true</code>
when loading the Maps API JavaScript.</p>

<pre class="prettyprint lang-html">
#
# Example using sensor when loading the Maps JavaScript API
#
&lt;script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"&gt;&lt;/script&gt;
</pre>

<p>Note that even if your device does not use a sensing device, you must still pass this parameter, setting
its value to <code>false</code>.</p>

<h1 id="Mobile">Developing for Mobile Devices (iPhone and Android device)</h1>

<p>The Google Maps API V3 has been designed to load fast and work well on mobile devices. In particular,
we have focused on development for advanced mobile devices such as the iPhone and handsets running the
Android operating system. Mobile devices have smaller screen sizes than typical browsers on the 
desktop. As well, they often have particular behavior specific to those devices (such as 
"pinch-to-zoom" on the iPhone). If you wish to have your application work well on mobile 
devices, we recommend the following:</p>

<ul>
<li><p>Set the <code>&lt;div&gt;</code> containing your map to have width and height attributes of
<code>100%</code>. Be aware that some older desktop browsers don't display well with these
values, however.</p></li>

<li><p>You can detect iPhone and Android devices by inspecting the <code>navigator.userAgent</code>
property within the DOM:</p>

<pre class="prettyprint lang-javascript">
function detectBrowser() {
  var useragent = navigator.userAgent;
  var mapdiv = document.getElementById("map_canvas");
    
  if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1 ) {
    mapdiv.style.width = '100%';
    mapdiv.style.height = '100%';
  } else {
    mapdiv.style.width = '600px';
    mapdiv.style.height = '800px';
  }
}
</pre>

<p>This allows you to alter layout for particular devices, as we've done
here to change the screen real estate for each device.</p></li>

<li><p>The iPhone device respects the following <code>&lt;meta&gt;</code> tag:</p>

<pre class="prettyprint lang-html">
&lt;meta name="viewport" content="initial-scale=1.0, user-scalable=no" /&gt;
</pre>

<p> This setting specifies that this map should be displayed full-screen and should 
not be resizable by the user. Android devices running software version 1.5 (Cupcake)
also support these parameters. Note that the iPhone's Safari browser requires
this <code>&lt;meta&gt;</code> tag be included within the page's <code>&lt;head&gt;</code> 
element.</p></li>
</ul>

<p>For more information on development for the iPhone, consult 
<a href="http://developer.apple.com/webapps/docs/documentation/AppleApplications/Reference/SafariWebContent/Introduction/Introduction.html">Apple's
Developer documentation</a>. For more information on development of Android 
devices, consult the <a href="http://developer.android.com/">Android documentation</a>.</p>

<h1 id="Localization">Localization in the V3 Maps API</h1>

<p>You may localize your Maps API application both by altering default language
settings and by setting the application's region code, which alters how it
behaves based on a given country or territory.</p>

<h2 id="Language">Language Localization</h2>

<p>The Google Maps API uses the browser's preferred language setting when
displaying textual information such as the names for controls, copyright
notices, driving directions and labels on maps. In most cases, this is
preferable; you usually do not wish to override the user's preferred
language setting. However, if you wish to change the Maps API to ignore
the browser's language setting and force it to display information in a
particular language, you can add an optional <code>language</code>
parameter to the <code>&lt;script&gt;</code> tag when including the Maps
API javascript code, specifying the language to use.</p>

<p>For example, to display a Maps API application in Japanese, add 
<code>&amp;language=ja</code> to the <code>&lt;script&gt;</code> tag
as shown below:</p>

<pre class="prettyprint lang-html">
&lt;script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&amp;language=ja"&gt;
</pre>

<p><span style="color:red">Note: </span> loading the API in the manner
shown above will use the Japanese language for all users regardless of
user preferences. Be sure you wish this behavior before setting this
option.</p>

<p><a href="examples/map-language.html">View example (map-language.html)</a></p>

<p>The Maps Javascript API also supports Bi-directional (Bidi) text
containing characters in both Left-to-Right (LTR) and Right-to-Left (RTL)
languages natively. Examples of RTL languages include Arabic, Hebrew and
Farsi. Generally, you should specify RTL language pages
to render properly by adding <code>dir='rtl'</code> to the page's
<code>&lt;html&gt;</code> element. The following example renders a map of
Cairo, Egypt using Arabic controls:</p>

<p><a href="examples/map-rtl.html">View example (map-rtl.html)</a></p>

<p>See also the <a href="../../faq.html#languagesupport">supported
list of languages</a>. Note that we often update supported languages so
this list may not be exhaustive.</p>

<h2 id="Region">Region Localization</h2>

<p>The Maps API serves map tiles and biases application behavior, by default,
using the country of the host domain from which the API is loaded
(which is the USA for <a href="http://maps.google.com">
maps.google.com</a>). If you wish to alter your application
to serve different map tiles or bias the application (such as biasing
geocoding results towards the region), you can override this default
behavior by adding a <code>region</code> parameter to the
<code>&lt;script&gt;</code> tag when including the Maps API javascript
code.</p>

<p>The <code>region</code> parameter accepts
<a href="http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers">
Unicode region subtag identifiers</a> which (generally) have a
one-to-one mapping to country code Top-Level Domains (ccTLDs). Most
Unicode region identifiers are identical to ISO 3166-1 codes, with
some notable exceptions. For example, Great Britain's ccTLD is "uk"
(corresponding to the domain <code>.co.uk</code>) while its region
identifier is "GB."</p>

<p>For example, to use a Maps API application localized to the
United Kingdom, add <code>&amp;region=GB</code> to the
<code>&lt;script&gt;</code> tag as shown below:</p>

<pre class="prettyprint lang-html">
&lt;script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&amp;region=GB"&gt;
</pre>

<p>The following examples show two maps, one which geocodes "Toledo" based on 
the default region (US) to "Toledo, Ohio" and one which biases results based
on a <code>region</code> set to <code>ES</code> (Spain) to "Toledo, Spain."</p>

<p>
<iframe style="width:400px;height:400px" src="examples/geocoding-region-us.html"></iframe>
<iframe style="width:400px;height:400px" src="examples/geocoding-region-es.html"></iframe>
</p>

<h1 id="Async">Asynchronously Loading the Javascript API</h1>

<p>Generally, you load the Javascript Maps API as soon as you load your
page by including the API with a <code>&lt;script&gt;</code> tag and
executing your application Javascript code after that script has loaded.
However, while this Javascript is being parsed, your browser may not render
additional content on the page. In most cases, this delay is not noticable,
but you may wish to load the Maps API Javascript code after your page has
finished loading. You may also wish to load the Maps API Javascript
on demand </p>

<p>It is simple enough to load the Maps Javascript API after a page loads
by injecting your own <code>&lt;script&gt;</code> tag in response to a
<code>window.onload</code> event, but you need to additionally instruct
the Maps Javascript API bootstrap to delay execution of your application
code until the Maps Javascript API code is fully loaded. You may do so using
the <code>callback</code> parameter. This parameter takes as an argument the
function to execute upon completing loading the API.</p>

<p>The following code instructs the application to load the Maps API
after the page has fully loaded (using <code>window.onload</code>)
and write the Maps Javascript API into a <code>&lt;script&gt;</code>
tag within the page. Additionally, we instruct the API to only
execute the <code>initialize()</code> function after the API has fully
loaded by passing <code>callback=initialize</code> to the Maps API
bootstrap:</p>

<pre class="prettyprint lang-javascript">
function initialize() {
  var myLatlng = new google.maps.LatLng(-34.397, 150.644);
  var myOptions = {
    zoom: 8,
    center: myLatlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
}
  
function loadScript() {
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src = "http://maps.google.com/maps/api/js?sensor=false&callback=initialize";
  document.body.appendChild(script);
}
  
window.onload = loadScript;
</pre>

<p><a href="examples/map-simple-async.html">View example (map-simple-async.html)</a></p>

<h1 id="Versioning">Versioning</h1>

<p>The Google Maps API team will regularly update this Javascript API with
new features, bug fixes, and performance improvements. All API changes will
be backwards-compatible, ensuring that if you launch an application using the
<a href="reference.html">currently documented
interfaces</a>, that application will continue to work without modification as
the API is updated. (<span style='color:red'>Note: </span>
<a href="http://code.google.com/labs/faq.html#experimental">experimental features</a>
are not covered by this guarantee. Features that are experimental will be clearly
labeled in the API documentation.)</p>

<h2 id="VersionTypes">Types of Versions</h2>

<p>You can indicate which version of the API to load within your application
by specifying it using the <code>v</code> parameter of the Maps
Javascript API bootstrap request. Two options are currently supported:</p>

<ul>
  <li>The <i><b>nightly</b></i> (development) version, specified with
  <code>v=3</code> or by omitting the <code>v</code> parameter.
  This version reflects the current version based off the trunk, including
  any bug fixes and new features as they are publicly released.</li>
  <li>A numbered version, indicated with <code>v=3.<i>number</i></code>,
  which specifies a feature set of the API. These numbered versions may either
  be a <i><b>release</b></i> version or a <i><b>frozen</b></i> version. (See below.)</li>
</ul>

<p>The following bootstrap request illustrates how to request a specific
version of the Maps Javascript API:</p>

<pre class="prettyprint lang-http">
http://maps.google.com/maps/api/js?v=3.1&sensor=<i>true_or_false</i>
</pre>

<p>Each quarter, we will cut a new numbered version (the "release version")
and release it for public use. Throughout the quarter we will continue to
add bug fixes to this release version, which will be noted within the
<a href="http://code.google.com/p/gmaps-api-issues/wiki/JavascriptMapsAPIv3Changelog">
Maps Javascript API changelog</a>, while ensuring that the feature set
remains stable.</p>

<p>When we release a new numbered version, we will "freeze" the
previous release version, meaning that we will no longer update it with
any code changes, including bug fixes, ensuring it is completely stable. Each
time we introduce a new frozen version in this manner we will retire the
existing frozen version. That is, at any given time there will be only one
frozen version available. Applications requesting numbered versions that have
been retired will automatically receive the current frozen version.</p>

<h2>Choosing an API version</h2>

<p>The following guidelines apply when choosing the appropriate API version for
your Maps API V3 application:</p>

<ul>
  <li>Production applications should always specify a minor version
  (e.g. 3.1, 3.2, etc.).</li>
  <li>The <a href="http://www.google.com/enterprise/earthmaps/maps_sla.html">
  Maps API Premier SLA</a> does not apply to the current <b>Nightly</b> (development)
  version. Maps API Premier applications must use the current <b>Release</b> version,
  or an earlier version to be covered by the SLA.</li>
  <li>When developing a new Maps API V3 application, we recommend that you select the
  latest<b>Nightly</b> version by it's version number (eg. 3.3), and then continue to
  use that version until such time that you need to add additional features
  available in a later version. In this way, the version you are using will mature
  as your application develops, moving to be the <b>Release</b> and then <b>Frozen</b>
  version over time.</li>
  <li>Production applications that request a version equal to or older than the
  current <b>Frozen</b> version should be tested against the latest <b>Release</b>
  version once per quarter in order to identify any unidentified issues with backwards
  compatibility that need to be addressed in that version before it is frozen.</li>
</ul>

<h2 id="VersionDocs">Documentation of Versions</h2>

<p>Documentation will always reflect the nightly (development) version. However,
for each version, we will offer a separately maintained reference.</p>

<ul>
  <li><a href="reference.html">
  Nightly Version (3.3) Reference</a></li>
  <li><a href="3.2/reference.html">
  Release Version (3.2) Reference</a></li>
  <li><a href="3.1/reference.html">
  Frozen Version (3.1) Reference</a> (Feature-stable)</li>
</ul>

<p>Version 3.0 has been retired.</p>

<h1 id="Troubleshooting">Troubleshooting</h1>

<p>If your code doesn't seem to be working, here are some approaches 
that might help you solve your problems:</p>

<ul>
  <li>Look for typos. Remember that JavaScript is a case-sensitive language.</li>
  <li>Use a JavaScript debugger. In Firefox, you can use the 
  JavaScript console, the <a href="http://www.mozilla.org/projects/venkman/" rel="nofollow">
  Venkman Debugger</a>, or the 
  <a href="https://addons.mozilla.org/en-US/firefox/addon/1843" rel="nofollow">Firebug add-on</a>. 
  In IE, you can use the 
  <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sdbug/Html/sdbug_17.asp" rel="nofollow">
  Microsoft Script Debugger</a>. This <a href="../../articles/debuggingmaps.html">series of screencasts</a>
  demonstrates how to use the various debugging tools.</li>
  <li>Post questions to the <a href="http://groups.google.com/group/google-maps-js-api-v3">Google 
	Maps API V3 group</a>.</li>
</ul>

        <!-- end body text -->
   
      </div><!-- end gc-pagecontent -->
   </div><!-- end gooey wrapper -->

    </div> <!-- end codesite content -->


<div id="gc-footer" dir="ltr">
  <div class="text">
    
    &copy;2010 Google -
    <a href="http://code.google.com">Code Home</a> -
    <a href="http://code.google.com/terms.html">Terms of Service</a> -
    <a href="http://code.google.com/privacy.html">Privacy Policy</a> -
    <a href="http://code.google.com/more">Site Directory</a>
    <br> <br>
    Google Code offered in:
    <a href="http://code.google.com/intl/en">English</a> -
    <a href="http://code.google.com/intl/es">Español</a> -
    <a href="http://code.google.com/intl/ja">日本語</a> -
    <a href="http://code.google.com/intl/ko">한국어</a> -
    <a href="http://code.google.com/intl/pt-BR">Português</a> -
    <a href="http://code.google.com/intl/ru">Pусский</a> -
    <a href="http://code.google.com/intl/zh-CN">中文(简体)</a> -
    <a href="http://code.google.com/intl/zh-TW">中文(繁體)</a>
  </div>
</div><!-- end gc-footer -->

</div><!-- end gc-container -->

<script type="text/javascript">CODESITE_CSITimer['load'].tick('ats');</script>
<script src="../../../../js/codesite_tail.pack.04102009.js" type="text/javascript"></script>




<script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(


    ['siteTracker._setAccount', 'UA-18071-1'],
    ['siteTracker._setDomainName', 'code.google.com'],
    ['siteTracker._setCookiePath', window.location.pathname.substring(0,
        window.location.pathname.lastIndexOf('/') + 1)],
    ['siteTracker._trackPageview']
);
(function() {
  var ga = document.createElement('script');

  ga.type = 'text/javascript';
  ga.async = true;
  ga.src = 'http://www.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] ||
   document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
</script>




  </body>
</html>

