<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" type="text/css" href="../css/dev_docs2.css" />
<link rel="stylesheet" type="text/css" href="local_extensions.css" />
<!--[if IE]>
  <link rel="stylesheet" type="text/css" href="iehacks.css" />
<![endif]-->
<title>Segmenting Large Imagery Files</title>
</head>


<body>
<a name="top"></a>
  
<!-- BEGIN HEADER -->
<div id="header">
  <div id="logo">
    <img alt="Google Earth Enterprise" border=0 src="images/index.gif" />
  </div>
  <h1 id="doc_title">Tutorial</h1>
</div>
<!-- END HEADER -->

<!-- BEGIN WRAPPER -->
<div id="wrapper">

<!-- BEGIN LEFT NAV BAR -->
<div id="sidenav">

  <ul>
    <li><a href="../../../index.html">4.4.1 Documentation</a></li>
    <div class="line"></div>
    <li><strong>Tutorial</strong></li>
    <li><a href="index.html">Home</a></li>
    <li><a href="setup.html">Setting Up For the Tutorial</a></li>
    <li><a href="resources.html">Defining and Building Resources</a></li>
    <li><a href="projects.html">Defining and Building Projects</a></li>
    <li><a href="database.html">Defining and Building Databases</a></li>
    <li><a href="publish.html">Publishing and Viewing a Database</a></li>
    <li><a href="points.html">Configuring Display Rules for Point Data</a></li>
    <li><a href="polygons.html">Configuring Display Rules for Polygon Data</a></li>
    <li><a href="importExport.html">Importing and Exporting Style Templates</a></li>
    <li><a href="searchTabs.html">Configuring a Searchable Database</a></li>
    <li><a href="searchLayers.html">Specifying Search Fields for Individual Layers</a></li>
    <li><a href="maps.html">Creating a Map Database</a></li>
    <li><a href="mosaics.html">Creating Imagery Mosaics</a></li>
    <li><a href="split.html" id="selected">Segmenting Large Imagery Files</a></li>
    <li><a href="historical.html">Building a Historical Imagery Project</a></li>
    <li><a href="dataFiles.html">Sample Data Files</a></li>
    <div class="line"></div>
    <li><a href="notices.html">Legal Notices</a></li>
  </ul>

</div>
<!-- END LEFT NAV BAR -->

<!-- BEGIN PAGE CONTENT -->

<div id="pagecontent">
<h1><a id="41932"></a>Segmenting Large Imagery Files
</h1>
<p>Google Earth Enterprise Fusion does not allow you to import raw imagery source files larger than 80 GB. (Raw size = number of pixels width * number of pixels height * 3.) Therefore, if you have an imagery source file that is larger than 80GB, you can split it into two or more source files using the command. (For complete details about the <code>gesplitkhvr</code> command, refer to Appendix A in the <i>Google Earth Enterprise Fusion Reference Guide</i>.)
</p>
<p>The <code>gesplitkhvr</code> tool produces a grid of image files designated as rows and columns. For example, if you specify 2 rows and 2 columns, the image is split into four smaller files. If you create a separate resource for each resulting source file, it would look like this in the Preview pane:
</p>
<img src="images/splitImage.png" width="459" height="321" />
<p>However, you can reconnect the split images by adding them all to a single resource, which would look like this in the Preview pane:
</p>
<img src="images/splitImageSingleRes.png" width="459" height="321" />
<h4>To split a large source file into multiple smaller files:
</h4>
<ol>
  <li>At the command prompt, change to the folder that contains the tutorial imagery source files by entering:<pre><code>cd /opt/google/share/tutorials/fusion/Imagery</code></pre>
  </li>
  <li><a id="71755"></a>Convert a <code>.tif</code> file to a <code>.khvr</code> file by entering:<pre><code>gevirtualraster -o <i>path</i>/virtual_raster.khvr usgsSFHiRes.tif</code></pre>
    <p>where <i>path</i> is the path to the folder where you want to save the resulting <code>.khvr</code> file. (See <a href="mosaics.html#65387">Lesson 12</a> for more information about the <code>gevirtualraster</code> tool.)
    </p>
    <p class="note"><strong>Note:</strong> The path where you save the resulting <code>.khvr</code> file must be on a known volume. (See “<code>geconfigureassetroot --editvolumes</code>” in Appendix A of the <i>Google Earth Enterprise Administration Guide</i>.)
    </p>
  </li>
  <li>Change to the folder where you stored the virtual_raster.khvr (the value of <i>path</i> in step <a href="#71755">2</a>) by entering:<pre><code>cd <i>path</i></code></pre>
  </li>
  <li>Split the <code>.khvr</code> file into a 4x4 grid (16 image files) with a 10-pixel overlap among all of the files by entering:<pre><code>gesplitkhvr --rows 4 --cols 4 --overlap 10 virtual_raster.khvr</code></pre>
    <p>The names of the resulting files appear on the screen as they are created. The file names are constructed from the name of the original file (<code>virtual_raster</code>), a row and column designation for each file (starting with <code>-R1C3</code>), and the <code>.khvr</code> extension.
    </p>
  </li>
</ol>
<p>Now you can import the 16 resulting image files into a resource.
</p>
<p>
</p>
</div>
	<!-- END PAGE CONTENT -->

<p class="backtotop"><a href="#top">Back to top</a></p>
</div>
	<!-- END WRAPPER -->




</body>
</html>
